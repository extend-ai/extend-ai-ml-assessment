- The solution utilizes a pretrained resnet to generate embeddings. Alternatively, a pretrained model more specialized in image similarity queries could be used. For example, something like a siamese CNN.
- I made some assumptions about the overall sizes of anomalies in the image to estimate the window size. Here something more sophisticated than a sliding window could be used to obtain image patches. (Potentially something around R-CNN) The downstream algorithm can be applied exactly to the new image patches.
- The solution utilizes simple thresholding to detect anomalies from the cosine similarity matrix of embeddings. Here, a more sophisticated anomaly detection algorithm that accepts a similarity matrix as input could be applied, such as one-class-svm.
- The same pretrained model could be applied to some other surface. Since, I did not use any training for the wood images. Here, the only problem is that the threshold probably needs to be readjusted for every new surface.
- There may be a more informed way to pinpoint the threshold by utilizing the whole mean cosine score distribution. But in the cosine score distribition the boundary between anomalies and normal patches are clear.
- Sorry that I was not able to implement a more sophisticated solution roughly outlined above. I did not have much time due to the holiday preparations 
